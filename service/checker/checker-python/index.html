
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="Enowars is an Open Source CTF Hosting Framework providing everything you need to setup your own CTF." name="description"/>
<meta content="Enowars Team" name="author"/>
<link href="../testing/" rel="prev"/>
<link href="../checker-golang/" rel="next"/>
<link href="../../../assets/favicon.png" rel="icon"/>
<meta content="mkdocs-1.4.3, mkdocs-material-9.1.12" name="generator"/>
<title>Python Checker - Enowars Documentation</title>
<link href="../../../assets/stylesheets/main.85bb2934.min.css" rel="stylesheet"/>
<link href="../../../assets/stylesheets/palette.a6bdf11c.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
</head>
<body data-md-color-accent="indigo" data-md-color-primary="indigo" data-md-color-scheme="default" dir="ltr">
<script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#development">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="Enowars Documentation" class="md-header__button md-logo" data-md-component="logo" href="../../.." title="Enowars Documentation">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M64 32C64 14.3 49.7 0 32 0S0 14.3 0 32v448c0 17.7 14.3 32 32 32s32-14.3 32-32V352l64.3-16.1c41.1-10.3 84.6-5.5 122.5 13.4 44.2 22.1 95.5 24.8 141.7 7.4l34.7-13c12.5-4.7 20.8-16.6 20.8-30V66.1c0-23-24.2-38-44.8-27.7l-9.6 4.8c-46.3 23.2-100.8 23.2-147.1 0-35.1-17.6-75.4-22-113.5-12.5L64 48V32z"></path></svg>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            Enowars Documentation
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Python Checker
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Switch to dark mode" class="md-option" data-md-color-accent="indigo" data-md-color-media="" data-md-color-primary="indigo" data-md-color-scheme="default" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_2" hidden="" title="Switch to dark mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"></path></svg>
</label>
<input aria-label="Switch to light mode" class="md-option" data-md-color-accent="red" data-md-color-media="" data-md-color-primary="red" data-md-color-scheme="slate" id="__palette_2" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to light mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"></path></svg>
</label>
</form>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header__source">
<a class="md-source" data-md-component="source" href="https://github.com/enowars/EnoEngine" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    GitHub
  </div>
</a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<nav aria-label="Tabs" class="md-tabs" data-md-component="tabs">
<div class="md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../..">
      Home
    </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../infrastructure/infrastructure/">
        Infrastructure
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link md-tabs__link--active" href="../../getting-started/">
        Create a Service
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../play/general/">
        Play
      </a>
</li>
</ul>
</div>
</nav>
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary md-nav--lifted" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="Enowars Documentation" class="md-nav__button md-logo" data-md-component="logo" href="../../.." title="Enowars Documentation">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M64 32C64 14.3 49.7 0 32 0S0 14.3 0 32v448c0 17.7 14.3 32 32 32s32-14.3 32-32V352l64.3-16.1c41.1-10.3 84.6-5.5 122.5 13.4 44.2 22.1 95.5 24.8 141.7 7.4l34.7-13c12.5-4.7 20.8-16.6 20.8-30V66.1c0-23-24.2-38-44.8-27.7l-9.6 4.8c-46.3 23.2-100.8 23.2-147.1 0-35.1-17.6-75.4-22-113.5-12.5L64 48V32z"></path></svg>
</a>
    Enowars Documentation
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/enowars/EnoEngine" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    GitHub
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../..">
        Home
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          Infrastructure
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
          Infrastructure
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../infrastructure/infrastructure/">
        Setup
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../infrastructure/engine/">
        Installation
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../infrastructure/round/">
        Timing of a round
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../infrastructure/testing/">
        Testing
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          Create a Service
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_3_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
          Create a Service
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../getting-started/">
        Getting started
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../tenets/">
        Tenets
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../service/">
        Service Development
      </a>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_3_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
          Checker Development
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_3_4_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_4">
<span class="md-nav__icon md-icon"></span>
          Checker Development
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../checker/">
        General
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../testing/">
        Testing
      </a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
          Python Checker
          <span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
        Python Checker
      </a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#development">
    Development
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#writing">
    Writing
  </a>
<nav aria-label="Writing" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#communicating-the-service-status">
    Communicating the service status
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#persisting-data-across-executions">
    Persisting data across executions
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#testing">
    Testing
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../checker-golang/">
        Golang Checker
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../checker-dotnet/">
        Dotnet Checker
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../checker-rust/">
        Rust Checker
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          Play
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
          Play
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../play/general/">
        General
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../play/service-status/">
        Service Status
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#development">
    Development
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#writing">
    Writing
  </a>
<nav aria-label="Writing" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#communicating-the-service-status">
    Communicating the service status
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#persisting-data-across-executions">
    Persisting data across executions
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#testing">
    Testing
  </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1>Python Checker</h1>
<div class="admonition danger">
<p class="admonition-title">Contains outdated information</p>
<p>This page is still under construction. It currently covers the old enochecker-library for Python, where as the current recommendation is the enochecker3-library</p>
</div>
<p>We provide a <a href="https://github.com/enowars/enochecker">checker library</a> for an easy start. </p>
<h2 id="development">Development<a class="headerlink" href="#development" title="Permanent link">¶</a></h2>
<p>For local development execute</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>checker/src
gunicorn<span class="w"> </span>-c<span class="w"> </span>gunicorn.conf.py<span class="w"> </span>checker:app
</code></pre></div>
<p>You can add those settings to you <code>checker/src/gunicorn.conf.py</code> to make your development faster.</p>
<div class="highlight"><pre><span></span><code><span class="n">reload</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">loglevel</span> <span class="o">=</span> <span class="s1">'debug'</span>
</code></pre></div>
<h2 id="writing">Writing<a class="headerlink" href="#writing" title="Permanent link">¶</a></h2>
<p>For a simple checker, subclass <code>BaseChecker</code> (<a href="https://enowars.github.io/enochecker/enochecker.html">API Documentation</a>).</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">enochecker</span> <span class="kn">import</span> <span class="n">BaseChecker</span><span class="p">,</span> <span class="n">BrokenServiceException</span><span class="p">,</span> <span class="n">run</span>

<span class="k">class</span> <span class="nc">AwesomeChecker</span><span class="p">(</span><span class="n">BaseChecker</span><span class="p">):</span>
    <span class="n">flag_count</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">noise_count</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">havoc_count</span> <span class="o">=</span> <span class="mi">1</span>


    <span class="k">def</span> <span class="nf">putflag</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>  <span class="c1"># type: () -&gt; None</span>
        <span class="c1"># TODO: Put flag to service</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">"flag is </span><span class="si">{}</span><span class="s2">"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">flag</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">http_post</span><span class="p">(</span><span class="s2">"/putflaghere"</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">"flag"</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">flag</span><span class="p">})</span>
        <span class="c1"># ...</span>

    <span class="k">def</span> <span class="nf">getflag</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>  <span class="c1"># type: () -&gt; None</span>
        <span class="c1"># tTODO: Get the flag.</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">http_get</span><span class="p">(</span><span class="s2">"/getflag"</span><span class="p">)</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">flag</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">BrokenServiceException</span><span class="p">(</span><span class="s2">"Ooops, wrong Flag"</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">putnoise</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># put some noise</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span> <span class="k">as</span> <span class="n">telnet</span><span class="p">:</span>
            <span class="n">telnet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">noise</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">getnoise</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span> <span class="k">as</span> <span class="n">telnet</span><span class="p">:</span>
            <span class="n">telnet</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">"gimmeflag</span><span class="se">\n</span><span class="s2">"</span><span class="p">)</span>
            <span class="n">telnet</span><span class="o">.</span><span class="n">read_expect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">noise</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">havoc</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">http</span><span class="p">(</span><span class="s2">"FUNFUN"</span><span class="p">)</span><span class="o">.</span><span class="n">text</span> <span class="o">==</span> <span class="s2">"FUNFUN"</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">"__main__"</span><span class="p">:</span>
    <span class="n">run</span><span class="p">(</span><span class="n">AwesomeChecker</span><span class="p">)</span>
</code></pre></div>
<p>To get to know more about what each function should do read the <a href="../../getting-started/">Getting Started Guide</a>.</p>
<p>The current flag is made available through the <code>self.flag</code> instance variable.
If you wish to place more than one flag per round in different places, the content of <code>self.flag_idx</code> tells you which flag you should deploy, starting with <code>0</code>.</p>
<p>In that case you should match the value of the variable in the <code>putflag()</code> and <code>getflag()</code> functions and act accordingly.
You can communicate the number of flags you want to store per round to the game engine by setting the class variable <code>flag_count</code>.</p>
<p>The noise, which is stored/retrieved using the <code>putnoise()</code> and <code>getnoise()</code> functions, is similar to the flag.
Your checker should store/retrieve noise to check that the services is still working as intended.
Unlike the flag, the noise does not need to remain secret, so you could for example post it on a publicly accessible comment section (provided your service has such functionality) to ensure this still works as intended.
You can communicate the number of noises you want to store per round to the game engine by setting the class variable <code>noise_count</code>.</p>
<p>The <code>havoc()</code> function is intended to check the functionality of those parts of the service which is not covered by the flag and noise functionality.
You can communicate the number of havoc calls you want to receive per round to the game engine by setting the class variable <code>havoc_count</code>.</p>
<h3 id="communicating-the-service-status">Communicating the service status<a class="headerlink" href="#communicating-the-service-status" title="Permanent link">¶</a></h3>
<p>To tell the game engine about the status of the service under check, you can raise various exceptions during the execution of your functions.
If the execution of the function finishes without any exception, it is assumed the status of the service is ok.</p>
<p>In case the service appears to be offline, for example because your connection times out, you should raise a <code>OfflineException</code>.</p>
<p>In case the service is online but is not working as intended, for example because it responds with unexpected contents or the flag is missing, you should raise a <code>BrokenServiceException</code>.</p>
<p>If the function raises any other exceptions, this results in the <code>CHECKER BROKEN</code> status on the scoreboard.
This should usually never happen, so make sure to catch all exceptions the functions you use might raise.</p>
<h3 id="persisting-data-across-executions">Persisting data across executions<a class="headerlink" href="#persisting-data-across-executions" title="Permanent link">¶</a></h3>
<p>Usually you need to store some information when storing the flag that is needed later.
This could be something like usernames and passwords which are necessary to access the flag.
There are multiple storage backends (at the moment <code>~enochecker.storeddict.StoredDict</code> and <code>~enochecker.nosqldict.NoSqlDict</code>) that are accessible through a common interface.</p>
<p>The <code>self.team_db</code> dictionary is persisted across restarts.
A good key for storing your information is usually the flag itself, since you want to access the information you stored during the <code>putflag</code> call during a later <code>getflag</code> call with the same flag in <code>self.flag</code>.
An example for using the <code>self.team_db</code>:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">secrets</span>

<span class="p">[</span><span class="o">...</span><span class="p">]</span>

<span class="k">class</span> <span class="nc">AwesomeChecker</span><span class="p">(</span><span class="n">BaseChecker</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">putflag</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">username</span> <span class="o">=</span> <span class="n">secrets</span><span class="o">.</span><span class="n">token_hex</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
        <span class="n">password</span> <span class="o">=</span> <span class="n">secrets</span><span class="o">.</span><span class="n">token_hex</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">team_db</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">flag</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">"username"</span><span class="p">:</span> <span class="n">username</span><span class="p">,</span>
            <span class="s2">"password"</span><span class="p">:</span> <span class="n">password</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="p">[</span><span class="o">...</span> <span class="n">register</span> <span class="k">with</span> <span class="n">the</span> <span class="n">generated</span> <span class="n">credentials</span> <span class="ow">and</span> <span class="n">store</span> <span class="n">the</span> <span class="n">flag</span> <span class="o">...</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">getflag</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">flag</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">team_db</span> <span class="ow">or</span> <span class="s2">"username"</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">team_db</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">flag</span><span class="p">]</span> <span class="ow">or</span> <span class="s2">"password"</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">team_db</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">flag</span><span class="p">]:</span>
            <span class="k">raise</span> <span class="n">BrokenServiceException</span><span class="p">(</span><span class="s2">"storing the corresponding flag was unsuccessful"</span><span class="p">)</span>
        <span class="n">username</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">team_db</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">flag</span><span class="p">][</span><span class="s2">"username"</span><span class="p">]</span>
        <span class="n">password</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">team_db</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">flag</span><span class="p">][</span><span class="s2">"password"</span><span class="p">]</span>
        <span class="p">[</span><span class="o">...</span> <span class="n">register</span> <span class="k">with</span> <span class="n">the</span> <span class="n">retrieved</span> <span class="n">credentials</span> <span class="ow">and</span> <span class="n">get</span> <span class="n">the</span> <span class="n">flag</span> <span class="o">...</span><span class="p">]</span>
</code></pre></div>
<h2 id="testing">Testing<a class="headerlink" href="#testing" title="Permanent link">¶</a></h2>
<p>Test your checker by executing:</p>
<div class="tabbed-set" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio"><label for="__tabbed_1_1">Bash</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code>pip<span class="w"> </span>install<span class="w"> </span>enochecker-test
<span class="nv">ENOCHECKER_TEST_CHECKER_ADDRESS</span><span class="o">=</span><span class="s2">"localhost"</span>
<span class="nv">ENOCHECKER_TEST_CHECKER_PORT</span><span class="o">=</span><span class="s2">"3031"</span>
<span class="nv">ENOCHECKER_TEST_SERVICE_ADDRESS</span><span class="o">=</span><span class="s2">"localhost"</span>
enochecker_test
</code></pre></div>
</div>
<input id="__tabbed_1_2" name="__tabbed_1" type="radio"><label for="__tabbed_1_2">Powershell</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="n">pip</span> <span class="n">install</span> <span class="n">enochecker-test</span>
<span class="nv">$env:ENOCHECKER_TEST_CHECKER_ADDRESS</span><span class="p">=</span><span class="s2">"localhost"</span>
<span class="nv">$env:ENOCHECKER_TEST_CHECKER_PORT</span><span class="p">=</span><span class="s2">"3031"</span>
<span class="nv">$env:ENOCHECKER_TEST_SERVICE_ADDRESS</span><span class="p">=</span><span class="s2">"localhost"</span>
<span class="n">enochecker_test</span>
</code></pre></div>
</div>
</input></input></div>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
<div class="md-social">
<a class="md-social__link" href="https://github.com/enowars/" rel="noopener" target="_blank" title="github.com">
<svg viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg>
</a>
<a class="md-social__link" href="https://www.agrs.tu-berlin.de/v_menue/ag_rechnersicherheit/" rel="noopener" target="_blank" title="www.agrs.tu-berlin.de">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg height="54" id="svg2" version="1.1" viewbox="0 0 73 54" width="73" xml:space="preserve" xmlns="http://www.w3.org/2000/svg">
<defs id="defs6"></defs>
<g id="g10" transform="matrix(1,0,0,-1,0,54)">
<g id="g12" transform="scale(0.05428,0.05428)">
<path d="m 954.277,0 c 79.903,0 137.323,23.7188 181.913,53.5938 41.58,27.8593 73.81,60.8322 98.54,103.3592 31.95,54.973 41.79,106.063 44.49,135.703 0.02,0.242 58.71,617.86 58.71,617.86 l -296.23,0.019 C 1041.7,910.535 954.18,0 954.277,0" id="path14" style="fill:#c50e1f;fill-opacity:1;fill-rule:nonzero;stroke:none"></path>
<path d="M 674.004,703.535 633.895,286.934 c -7.379,-99.7 30,-150.918 53.261,-177.911 42.485,-49.2886 120.61,-88.0386 210.832,-104.19878 2.5,26.49218 80.215,832.89878 80.215,833.04678 2.695,41.395 -9.355,77.598 -36.973,109.141 -32.207,36.785 -79.863,47.812 -99.55,47.812 L 133.391,994.746 C 80.1055,994.746 0,940.672 0,851.492 0,741.301 97.918,703.523 131.609,703.523 c 17.2,0 542.395,0.012 542.395,0.012" id="path16" style="fill:#c50e1f;fill-opacity:1;fill-rule:nonzero;stroke:none"></path>
<path d="m 261.555,83.7305 263.758,0.0078 53.972,560.5197 -263.765,-0.012 c 0,0 -47.141,-487.93 -53.965,-560.5155 l 0,0" id="path18" style="fill:#c50e1f;fill-opacity:1;fill-rule:nonzero;stroke:none"></path>
<path d="m 1145.06,412.961 c -1.6,-16.555 16.6,-25.461 33.83,-25.481 l 31.54,-0.031 c 1.87,4.555 2.99,9.719 3.61,16.137 1.68,17.586 -7.81,29.59 -35.27,29.617 -20.49,0.012 -32.38,-6.398 -33.71,-20.242 z m 86.23,-11.035 c -1.39,-14.485 -3.87,-25.453 -7.83,-36.621 l -146.94,0.125 2.15,22.136 46.94,-0.039 c 5.93,-0.007 14.08,-0.632 19.27,-1.882 l 0.04,0.418 c -12.19,5.382 -19,17.597 -17.54,32.707 2.35,24.406 20.86,37.832 51.58,37.812 35.26,-0.027 55.63,-20.527 52.33,-54.656" id="path20" style="fill:#ffffff;fill-opacity:1;fill-rule:nonzero;stroke:none"></path>
<path d="m 1153.55,520.371 c -1.19,-12.402 7.19,-21.105 21.16,-22.988 l 4.2,43.652 c -14.32,0.43 -24.11,-7.629 -25.36,-20.664 z m 42.56,41.965 -6.29,-65.371 c 23.11,-0.649 34.3,9.273 36.33,30.379 0.96,9.922 -0.1,20.273 -3.08,29.59 l 17.28,2.871 c 3.07,-10.75 4.28,-23.586 3.05,-36.407 -3.05,-31.652 -21.13,-49.218 -56.99,-49.187 -30.55,0.027 -52,17.625 -49.14,47.41 2.83,29.375 23.26,41.57 46.42,41.555 3.28,0 8.19,-0.227 12.42,-0.84" id="path22" style="fill:#ffffff;fill-opacity:1;fill-rule:nonzero;stroke:none"></path>
<path d="m 1170.43,640.41 c -5.86,-20.469 7.32,-30.41 37.85,-30.441 l 41.41,-0.028 -2.15,-22.136 -101.84,0.086 2.03,21.101 c 5.73,-0.008 14.69,-0.633 22.35,-2.09 l 0.04,0.411 c -13.3,4.574 -25,14.921 -21.1,34.16 l 21.41,-1.063" id="path24" style="fill:#ffffff;fill-opacity:1;fill-rule:nonzero;stroke:none"></path>
<path d="m 1254.53,660.391 -149.59,0.125 2.13,22.129 149.59,-0.125 -2.13,-22.129" id="path26" style="fill:#ffffff;fill-opacity:1;fill-rule:nonzero;stroke:none"></path>
<path d="m 1259.57,712.793 -101.84,0.09 2.13,22.129 101.86,-0.09 -2.15,-22.129 z m -118.81,11.27 c -0.74,-7.872 -7.3,-14.266 -15.1,-14.258 -7.57,0 -13.1,6.414 -12.36,14.289 0.74,7.652 7.52,14.051 15.1,14.051 7.58,-0.008 13.1,-6.426 12.36,-14.082" id="path28" style="fill:#ffffff;fill-opacity:1;fill-rule:nonzero;stroke:none"></path>
<path d="m 1270.8,829.395 -65.37,0.058 c -12.7,0.012 -20.63,-3.508 -21.76,-15.293 -1.48,-15.527 13.6,-26.902 34.1,-26.926 l 48.97,-0.039 -2.13,-22.136 -101.84,0.086 2.03,21.105 c 5.53,-0.012 14.3,-0.43 19.93,-1.465 l 0.02,0.203 c -12.54,6.008 -20.36,18.43 -18.68,35.813 2.25,23.371 17.7,30.594 35.53,30.578 l 71.31,-0.063 -2.11,-21.921" id="path30" style="fill:#ffffff;fill-opacity:1;fill-rule:nonzero;stroke:none"></path>
</g>
</g>
</svg>
</a>
<a class="md-social__link" href="https://twitter.com/ENOFLAG" rel="noopener" target="_blank" title="twitter.com">
<svg viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg>
</a>
<a class="md-social__link" href="https://ctftime.org/ctf/24" rel="noopener" target="_blank" title="ctftime.org">
<?xml version="1.0" encoding="utf-8"?>
<svg style="enable-background:new 0 0 283.46 79.33;" version="1.1" viewbox="0 0 283.46 79.33" x="0px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" y="0px">
<style type="text/css">
	.st0{fill:#E3000B;}
	.st1{fill:#FFFFFF;}
</style>
<g id="Layer_1">
<polygon class="st0" points="0,79.52 154.36,79.52 283.46,79.52 283.46,0.19 0,0.19 33.23,40.29 	"></polygon>
<polygon class="st1" points="61.92,57.92 80.47,57.92 80.47,51.68 74.06,51.68 74.06,51.68 69.3,51.68 69.3,27.9 74.06,27.9 
		74.06,27.9 80.47,27.9 80.47,21.02 61.92,21.02 	"></polygon>
<polygon class="st1" points="86.32,28.11 91.6,28.11 91.6,57.92 98.98,57.92 98.98,28.11 104.25,28.11 104.25,21.02 86.32,21.02 	
		"></polygon>
<polygon class="st1" points="110.3,57.63 117.69,57.63 117.69,42.88 126.9,42.88 126.9,37.15 117.69,37.15 117.69,27.9 
		129.02,27.9 129.02,21.02 110.3,20.73 	"></polygon>
<polygon class="st1" points="182.79,25.34 188.33,25.34 188.33,57.92 192.76,57.92 192.76,25.34 198.29,25.34 198.29,21.02 
		182.79,21.02 	"></polygon>
<rect class="st1" height="36.9" width="4.43" x="203.31" y="21.02"></rect>
<polygon class="st1" points="224.16,34.52 218.89,21.02 214.52,21.02 214.52,57.92 218.89,57.92 218.89,31.78 224.16,45.06 
		229.43,31.78 229.43,57.92 233.81,57.92 233.81,21.02 229.43,21.02 	"></polygon>
<polygon class="st1" points="244.77,53.6 244.77,41.58 252.15,41.58 252.15,37.26 244.77,37.26 244.77,25.34 256.88,25.34 
		258.04,21.02 240.34,21.02 240.34,57.92 257.85,57.92 256.69,53.6 	"></polygon>
<path class="st1" d="M135.54,21.02v36.9h39.7v-36.9H135.54z M169.83,52.89h-28.87V26.05h28.87V52.89z"></path>
<polygon class="st1" points="153.91,39.38 147.8,45.48 151.83,49.05 161.24,39.65 145.16,23.57 138.1,23.57 	"></polygon>
</g>
</svg>
</a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.instant", "navigation.sections", "navigation.tabs"], "search": "../../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
<script src="../../../assets/javascripts/bundle.c2be25ad.min.js"></script>
<script src="../../../js/mermaid-loader.js"></script>
</body>
</html>